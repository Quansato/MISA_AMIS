{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\MISA_AMIS\\MISA.AMIS.FE\\misa_amis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\MISA_AMIS\\MISA.AMIS.FE\\misa_amis\\src\\views\\dictionary\\EmployeeDetail.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\MISA_AMIS\\MISA.AMIS.FE\\misa_amis\\src\\views\\dictionary\\EmployeeDetail.vue","mtime":1621183753705},{"path":"C:\\Users\\ASUS\\Desktop\\MISA_AMIS\\MISA.AMIS.FE\\misa_amis\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\MISA_AMIS\\MISA.AMIS.FE\\misa_amis\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\MISA_AMIS\\MISA.AMIS.FE\\misa_amis\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\MISA_AMIS\\MISA.AMIS.FE\\misa_amis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\MISA_AMIS\\MISA.AMIS.FE\\misa_amis\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZGlhbG9nIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICAvKiByaWdodDogMDsgKi8KICAgIC8qIGJvdHRvbTogMDsgKi8KICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgbWF4LWhlaWdodDogMTAwJTsKICAgIG92ZXJmbG93OiBhdXRvOwogICAgei1pbmRleDogMTA7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwp9CgogICAgLmRpYWxvZyAuZGlhbG9nLWNvbnRlbnQgewogICAgICAgIHBhZGRpbmc6IDI0cHg7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIG1pbi13aWR0aDogOTAwcHg7CiAgICAgICAgbWF4LXdpZHRoOiA5MDBweDsKICAgICAgICB3aWR0aDogOTAwcHg7CiAgICAgICAgaGVpZ2h0OiA2MDBweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogICAgICAgIHBhZGRpbmc6IDIwcHggMzJweDsKICAgIH0KCkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA4NjBweCkgewogICAgLyogLmRpYWxvZyAuZGlhbG9nLWNvbnRlbnQgewogIHRvcDogMDsKfSAqLwp9CgouZGlhbG9nIC5kaWFsb2ctaGVhZGVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDsKfQoKLmRpYWxvZyAuZGlhbG9nLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMjRweDsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7Cn0KCi5kaWFsb2cgLmRpYWxvZy1oZWFkZXIgLmJ0bi1oZWFkZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgcmlnaHQ6IDA7CiAgICBwYWRkaW5nOiAxMnB4Owp9CgouZGlhbG9nIC5kaWFsb2ctY2xvc2UtYnV0dG9uIHsKICAgIGJhY2tncm91bmQtc2l6ZTogMjRweDsKICAgIHdpZHRoOiAyNHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgYm9yZGVyLXJhZGl1czogMCA0cHggMCA0cHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoIi4uLy4uL2Fzc2V0cy9pbWcvU3ByaXRlcy42NGFmOGY2MS5zdmciKSBuby1yZXBlYXQgLTE0NHB4IC0xNDRweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLmRpYWxvZyAuZGlhbG9nLWhlbHAtYnV0dG9uIHsKICAgIGJhY2tncm91bmQtc2l6ZTogMjRweDsKICAgIHdpZHRoOiAyNHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgYm9yZGVyLXJhZGl1czogMCA0cHggMCA0cHg7CiAgICBtYXJnaW4tcmlnaHQ6IDZweDsKICAgIGJhY2tncm91bmQ6IHVybCgiLi4vLi4vYXNzZXRzL2ltZy9TcHJpdGVzLjY0YWY4ZjYxLnN2ZyIpIG5vLXJlcGVhdCAtODlweCAtMTQ0cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5kaWFsb2cgLmRpYWxvZy1nZW5kZXIgewogICAgaGVpZ2h0OiAzMnB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi5kaWFsb2ctaGlkZSB7CiAgICBkaXNwbGF5OiBub25lOwp9CgouZGlhbG9nIC5kaWFsb2ctZm9vdGVyIHsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIHdpZHRoOiAxMDAlOwogICAgLyogcG9zaXRpb246IGFic29sdXRlOwpkaXNwbGF5OiBmbGV4OwphbGlnbi1pdGVtczogY2VudGVyOwpib3R0b206IDA7CmJhY2tncm91bmQtY29sb3I6ICNlNWU1ZTU7CmhlaWdodDogNTZweDsKYm9yZGVyLXJhZGl1czogMCAwIDRweCA0cHg7CmxlZnQ6IDA7CnJpZ2h0OiAwOyAqLwp9CgogICAgLmRpYWxvZyAuZGlhbG9nLWZvb3RlciAuZGlhbG9nLWZvb3Rlci1idXR0b24gewogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIH0KCi5tcy1jaGVja2JveCB7CiAgICBwYWRkaW5nOiAwcHggMTkuNXB4Owp9CgpzcGFuLnRvb2x0aXAtY29udGVudCB7CiAgICBjb2xvcjogIzExMTExMTsKICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgZm9udC13ZWlnaHQ6IDEwMDsKfQo="},{"version":3,"sources":["EmployeeDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAilBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"EmployeeDetail.vue","sourceRoot":"src/views/dictionary","sourcesContent":["<template>\r\n    <div class=\"dialog\" id=\"dlgEmployee\" v-if=\"isShow\">\r\n        <div class=\"dialog-content\"\r\n             ref=\"modal\"\r\n             @mousedown=\"$fn.startMoving($refs['modal'], 'dlgEmployee', $event)\"\r\n             @mouseup=\"$fn.stopMoving($refs['modal'])\">\r\n            <div class=\"dialog-header\">\r\n                <div class=\"dialog-title flex items-center\">\r\n                    {{ title }}\r\n                    <div class=\"ms-checkbox flex items-center\">\r\n                        <input type=\"checkbox\" name=\"\" id=\"\" />\r\n                        <span class=\"tooltip-content mt-2\">Là khách hàng</span>\r\n                    </div>\r\n\r\n                    <div class=\"ms-checkbox flex item-center mt-4\">\r\n                        <input type=\"checkbox\" name=\"\" id=\"\" />\r\n                        <span class=\"tooltip-content\">Là nhà cung cấp</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"btn-header flex\">\r\n                    <div class=\"dialog-help-button\"\r\n                         @click=\"onClose\"\r\n                         title=\"Trợ giúp\"></div>\r\n                    <div class=\"dialog-close-button\"\r\n                         @click=\"onClose\"\r\n                         title=\"Đóng(Esc)\"></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"dialog-body flex flex-column\">\r\n                <div class=\"flex pd-b-12\">\r\n                    <div class=\"p-r-26 flex-1\">\r\n                        <!-- row -->\r\n                        <div class=\"m-row\">\r\n                            <!-- Mã -->\r\n                            <div class=\"m-item-input w-2/5 p-r-6\">\r\n                                <label for=\"EmployeeCode\" class=\"m-label\">Mã<span class=\"required\"> * </span></label>\r\n                                <input type=\"text\"\r\n                                       class=\"m-input\"\r\n                                       ref=\"EmployeeCode\"\r\n                                       v-model=\"employee.EmployeeCode\"\r\n                                       @blur=\"\r\n                    checkBlankText([\r\n                      { key: 'EmployeeCode', text: 'Mã không được để trống' },\r\n                    ])\r\n                  \"\r\n                                       tabindex=\"1\" />\r\n                            </div>\r\n                            <!-- Tên -->\r\n                            <div class=\"m-item-input w-3/5\">\r\n                                <label for=\"\" class=\"m-label\">Tên<span class=\"required\"> * </span></label>\r\n                                <input type=\"text\"\r\n                                       class=\"m-input\"\r\n                                       ref=\"EmployeeName\"\r\n                                       v-model=\"employee.EmployeeName\"\r\n                                       @blur=\"\r\n                    checkBlankText([\r\n                      { key: 'EmployeeName', text: 'Tên không được để trống' },\r\n                    ])\r\n                  \"\r\n                                       tabindex=\"2\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- row -->\r\n                        <div class=\"m-row\">\r\n                            <!-- Đơn vị -->\r\n                            <div class=\"m-item-input flex-1\">\r\n                                <label for=\"\" class=\"m-label\">Đơn vị<span class=\"required\"> * </span></label>\r\n                                <select class=\"m-select\"\r\n                                        v-model=\"employee.DepartmentId\"\r\n                                        ref=\"Department\"\r\n                                        @blur=\"\r\n                    checkBlankText([\r\n                      { key: 'Department', text: 'Đơn vị không được để trống' },\r\n                    ])\r\n                  \"\r\n                                        tabindex=\"3\">\r\n                                    <option v-for=\"(item, index) in department\"\r\n                                            :value=\"item.DepartmentId\"\r\n                                            :key=\"item.DepartmentId\"\r\n                                            :selected=\"index == 1\">\r\n                                        {{ item.DepartmentName }}\r\n                                    </option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- row -->\r\n                        <div class=\"m-row\">\r\n                            <!-- Chức danh -->\r\n                            <div class=\"m-item-input flex-1\">\r\n                                <label for=\"\" class=\"m-label\">Chức danh</label>\r\n                                <input type=\"text\"\r\n                                       class=\"m-input\"\r\n                                       v-model=\"employee.EmployeePosition\"\r\n                                       tabindex=\"4\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"flex-1\">\r\n                        <!-- row -->\r\n                        <div class=\"m-row\">\r\n                            <!-- Ngày sinh -->\r\n                            <div class=\"m-item-input w-1\\/2 p-r-6\">\r\n                                <label for=\"\" class=\"m-label\">Ngày sinh</label>\r\n                                <input type=\"date\"\r\n                                       min=\"1900-01-01\"\r\n                                       :max=\"$fn.fnFormatDateInput(new Date())\"\r\n                                       class=\"m-input\"\r\n                                       v-model=\"employee.DateOfBirth\"\r\n                                       tabindex=\"5\" />\r\n                            </div>\r\n                            <!-- Giới tính -->\r\n                            <!-- <div class=\"p-t-5 flex items-center\"> -->\r\n                            <div class=\"m-item-input .w-1/2 p-r-6 justify-between\">\r\n                                <label class=\"m-label\">Giới tính</label>\r\n                                <div class=\"group-gender\">\r\n                                    <input type=\"radio\"\r\n                                           name=\"gender\"\r\n                                           value=\"1\"\r\n                                           v-model=\"employee.Gender\"\r\n                                           class=\"ml-4\"\r\n                                           tabindex=\"6\" />\r\n                                    <span class=\"ml-4\">Nam</span>\r\n                                    <input type=\"radio\"\r\n                                           name=\"gender\"\r\n                                           value=\"0\"\r\n                                           v-model=\"employee.Gender\"\r\n                                           class=\"ml-4\"\r\n                                           tabindex=\"7\" />\r\n                                    <span class=\"ml-4\">Nữ</span>\r\n                                    <input type=\"radio\"\r\n                                           name=\"gender\"\r\n                                           value=\"2\"\r\n                                           v-model=\"employee.Gender\"\r\n                                           class=\"ml-4\"\r\n                                           tabindex=\"7\" />\r\n                                    <span class=\"ml-4\">Khác</span>\r\n                                </div>\r\n                            </div>\r\n                            <!-- </div> -->\r\n                        </div>\r\n\r\n                        <!-- row -->\r\n                        <div class=\"m-row\">\r\n                            <!-- Số CMND -->\r\n                            <div class=\"m-item-input flex-4 p-r-6\">\r\n                                <label for=\"\" class=\"m-label\">Số CMND</label>\r\n                                <input type=\"text\"\r\n                                       class=\"m-input\"\r\n                                       v-model=\"employee.IdentityNumber\"\r\n                                       tabindex=\"8\" />\r\n                            </div>\r\n                            <!-- Ngày cấp -->\r\n                            <div class=\"m-item-input\">\r\n                                <label for=\"\" class=\"m-label\">Ngày cấp</label>\r\n                                <input type=\"date\"\r\n                                       min=\"1900-01-01\"\r\n                                       :max=\"$fn.fnFormatDateInput(new Date())\"\r\n                                       class=\"m-input\"\r\n                                       v-model=\"employee.IdentityDate\"\r\n                                       tabindex=\"9\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- row -->\r\n                        <div class=\"m-row\">\r\n                            <!-- Nơi cấp -->\r\n                            <div class=\"m-item-input flex-1\">\r\n                                <label for=\"\" class=\"m-label\">Nơi cấp</label>\r\n                                <input type=\"text\"\r\n                                       class=\"m-input\"\r\n                                       v-model=\"employee.IdentityPlace\"\r\n                                       tabindex=\"10\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"flex flex-column p-t-10\">\r\n                    <div class=\"m-row\">\r\n                        <!-- Địa chỉ -->\r\n                        <div class=\"m-item-input flex-1\">\r\n                            <label for=\"\" class=\"m-label\">Địa chỉ</label>\r\n                            <input type=\"text\"\r\n                                   class=\"m-input\"\r\n                                   v-model=\"employee.Address\"\r\n                                   tabindex=\"11\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!--row-->\r\n                    <div class=\"m-row\">\r\n                        <!-- ĐT di động -->\r\n                        <div class=\"m-item-input .w-1/4 p-r-6\">\r\n                            <label for=\"\" class=\"m-label\">ĐT di động</label>\r\n                            <input type=\"text\"\r\n                                   class=\"m-input\"\r\n                                   v-model=\"employee.PhoneNumber\"\r\n                                   @keypress=\"isNumber($event)\"\r\n                                   tabindex=\"12\" />\r\n                        </div>\r\n                        <!-- ĐT cố định -->\r\n                        <div class=\"m-item-input .w-1/4 p-r-6\">\r\n                            <label for=\"\" class=\"m-label\">ĐT cố định</label>\r\n                            <input type=\"text\"\r\n                                   class=\"m-input\"\r\n                                   v-model=\"employee.TelephoneNumber\"\r\n                                   tabindex=\"13\" />\r\n                        </div>\r\n                        <!-- Email -->\r\n                        <div class=\"m-item-input .w-1/4 p-r-6\">\r\n                            <label for=\"\" class=\"m-label\">Email</label>\r\n                            <input type=\"text\"\r\n                                   class=\"m-input\"\r\n                                   v-model=\"employee.Email\"\r\n                                   ref=\"Email\"\r\n                                   tabindex=\"14\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!--row-->\r\n                    <div class=\"m-row\">\r\n                        <!-- Tài khoản ngân hàng -->\r\n                        <div class=\"m-item-input .w-1/4 p-r-6\">\r\n                            <label for=\"\" class=\"m-label\">Tài khoản ngân hàng</label>\r\n                            <input type=\"text\"\r\n                                   class=\"m-input\"\r\n                                   v-model=\"employee.BankAccountNumber\"\r\n                                   tabindex=\"15\" />\r\n                        </div>\r\n                        <!-- Tên ngân hàng -->\r\n                        <div class=\"m-item-input .w-1/4 p-r-6\">\r\n                            <label for=\"\" class=\"m-label\">Tên ngân hàng</label>\r\n                            <input type=\"text\"\r\n                                   class=\"m-input\"\r\n                                   v-model=\"employee.BankName\"\r\n                                   tabindex=\"16\" />\r\n                        </div>\r\n                        <!-- Chi nhánh -->\r\n                        <div class=\"m-item-input .w-1/4 p-r-6\">\r\n                            <label for=\"\" class=\"m-label\">Chi nhánh</label>\r\n                            <input type=\"text\"\r\n                                   class=\"m-input\"\r\n                                   v-model=\"employee.BankBranchName\"\r\n                                   tabindex=\"17\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"dialog-footer flex flex-column\">\r\n                    <div class=\"divide\"></div>\r\n                    <div class=\"dialog-footer-button flex flex-1\">\r\n                        <button class=\"m-btn-second\" @click=\"onClose\" tabindex=\"18\">\r\n                            Huỷ\r\n                        </button>\r\n                        <div class=\"flex\">\r\n                            <button class=\"m-btn-second m-r-10\" @click=\"onSave\" tabindex=\"19\">\r\n                                Cất\r\n                            </button>\r\n                            <button class=\"m-btn\" @click=\"onSaveAndNew\" tabindex=\"20\">\r\n                                Cất và thêm\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--  -->\r\n        <Alert :isShow=\"isShowAlert\" :message=\"messageAlert\" :cls=\"iconCls\">\r\n            <div class=\"flex w-full justify-center\">\r\n                <button class=\"m-btn\" @click=\"onCloseAlert\">Đóng</button>\r\n            </div>\r\n        </Alert>\r\n        <!--  -->\r\n\r\n        <AlertConfirm :isShow=\"isShowAlertConfirm\"\r\n                      :message=\"messageAlert\"\r\n                      :cls=\"iconCls\">\r\n            <div class=\"flex w-full justify-between\">\r\n                <button class=\"m-btn-second\" @click=\"onClose\">Đóng</button>\r\n                <button class=\"m-btn\">Đồng ý</button>\r\n            </div>\r\n        </AlertConfirm>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from \"axios\";\r\n    import Alert from \"../../components/Alert/Alert\";\r\n    import AlertConfirm from \"../../components/Alert/Alert\";\r\n    import Vue from \"vue\";\r\n\r\n    export default {\r\n        name: \"Detail\",\r\n        components: {\r\n            Alert,\r\n            AlertConfirm,\r\n        },\r\n        props: [\"department\", \"title\"],\r\n        // computed:{\r\n        //  employee(){\r\n        //     return this.$store.getters.getDataRow;\r\n        //   }\r\n        // },\r\n        watch: {\r\n            show: function () {\r\n                if (self.isShow) {\r\n                    let self = this;\r\n                    Vue.nextTick().then(function () {\r\n                        self.$refs.EmployeeCode.focus();\r\n                    });\r\n                }\r\n            },\r\n        },\r\n        computed: {\r\n            isShow() {\r\n                return this.$store.getters.getIsShow;\r\n            },\r\n            employee() {\r\n                return this.$store.getters.getDataRow;\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                // isShow:,\r\n                isShowAlert: false,\r\n                isShowAlertConfirm: false,\r\n                messageAlert: \"\",\r\n                iconCls: \"\",\r\n                API_HOST: this.$Const.API_HOST,\r\n                dataEmployee: [],\r\n                isOnlySave: true,\r\n            };\r\n        },\r\n        methods: {\r\n\r\n            /**\r\n             * Load lại dữ liệu\r\n             * CreatedBy: ntquan(13/05/2021)\r\n             * */\r\n            onLoadEmployee() {\r\n                this.$emit(\"onLoad\");\r\n            },\r\n\r\n            /**\r\n             * Lưu thông tin\r\n             * CreatedBy: ntquan(13/05/2021)\r\n             * */\r\n            onSave() {\r\n                this.fnSave();\r\n            },\r\n\r\n            /**\r\n             * Lưu và thêm mới\r\n             * CreatedBy: ntquan(13/05/2021)\r\n             * */\r\n            onSaveAndNew() {\r\n                var me = this;\r\n                me.isOnlySave = false;\r\n                me.fnSave();\r\n            },\r\n\r\n            /**\r\n             * Thực hiện lưu thông tin\r\n             * CreatedBy: ntquan(13/05/2021)\r\n             * */\r\n            async fnSave() {\r\n                var me = this;\r\n                var countErr = 0;\r\n                var url = \"\";\r\n                var newCode = \"\";\r\n                //Validate\r\n                countErr += me.validateToSave();\r\n                if (!me.employee.EmployeeId)\r\n                    countErr += await me.checkEmployeeCodeExist(me.employee.EmployeeCode);\r\n                if (countErr != 0) return;\r\n                // lưu thông tin\r\n                if (me.employee.EmployeeId) {\r\n                    //cập nhật\r\n                    url = `${me.API_HOST}/api/v1/Employees?entityId=${me.employee.EmployeeId}`;\r\n                    const response = await axios.put(url, me.employee);\r\n                    //hiện thông báo\r\n                    if (response.status == me.$Const.DATA_UPDATED && me.isOnlySave) {\r\n                        me.onClose();\r\n                        me.onLoadEmployee();\r\n                    } else if (\r\n                        response.status == me.$Const.DATA_UPDATED &&\r\n                        !me.isOnlySave\r\n                    ) {\r\n                        me.onLoadEmployee();\r\n                        me.$store.commit(\"setDataRow\", {});\r\n                        newCode = await me.genEmployeeCode();\r\n                        me.$store.commit(\"setDataRow\", { EmployeeCode: newCode });\r\n                        me.isOnlySave = true;\r\n                    } else {\r\n                        //TODO\r\n                    }\r\n                } else {\r\n                    //Thêm mới\r\n                    url = `${me.API_HOST}/api/v1/Employees`;\r\n                    const response = await axios.post(url, me.employee);\r\n\r\n                    if (response.status == me.$Const.DATA_CREATED && me.isOnlySave) {\r\n                        me.onClose();\r\n                        me.onLoadEmployee();\r\n                    } else if (\r\n                        response.status == me.$Const.DATA_CREATED &&\r\n                        !me.isOnlySave\r\n                    ) {\r\n                        me.onLoadEmployee();\r\n                        me.$store.commit(\"setDataRow\", {});\r\n                        newCode = await me.genEmployeeCode();\r\n                        me.$store.commit(\"setDataRow\", { EmployeeCode: newCode });\r\n                        me.isOnlySave = true;\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Chỉ cho phép nhập số\r\n             * CreateBy:ntquan(16/05/2021)\r\n             */\r\n            isNumber: function (evt) {\r\n                evt = evt ? evt : window.event;\r\n                var charCode = evt.which ? evt.which : evt.keyCode;\r\n                if (charCode > 31 && (charCode < 48 || charCode > 57)) {\r\n                    evt.preventDefault();\r\n                } else {\r\n                    return true;\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Phím tắt\r\n             * CreatedBy: ntquan(16/05/2021)\r\n             */\r\n            handleKeyUp(e) {\r\n                var me = this;\r\n                if (me.isShow) {\r\n                    if (e.ctrlKey && e.shiftKey && e.keyCode == 83) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        me.onSaveAndNew();\r\n                        //console.log(e);\r\n                    } else if (e.ctrlKey && e.keyCode == 83) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        me.onSave();\r\n                    } else if (e.keyCode == 27) {\r\n                        me.onClose();\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Lấy mã nhân viên mới\r\n             * CreatedBy:ntquan(13/05/2021)\r\n             */\r\n            async genEmployeeCode() {\r\n                let url = this.API_HOST + \"/api/v1/Employees/NewEmployeeCode\";\r\n                var response = await axios.get(url);\r\n                return response.data;\r\n            },\r\n\r\n            /**\r\n             * Validate dữ liệu để lưu vào Database\r\n             * CreateBy:ntquan(21/04/2021)\r\n             */\r\n            validateToSave() {\r\n                var me = this;\r\n                var isError = 0;\r\n                //kiểm tra các trường rỗng\r\n                var obj = [\r\n                    {\r\n                        key: \"EmployeeName\",\r\n                        text: \"Tên không được để trống\",\r\n                    },\r\n                    {\r\n                        key: \"EmployeeCode\",\r\n                        text: \"Mã NV không được để trống\",\r\n                    },\r\n                    {\r\n                        key: \"Department\",\r\n                        text: \"Đơn vị không được để trống\",\r\n                    },\r\n                ];\r\n                me.checkBlankText(obj);\r\n                //kiểm tra giá trị email hợp lệ\r\n                me.checkEmailValid();\r\n                if (me.messageAlert != \"\") {\r\n                    me.iconCls = \"icon-error\";\r\n                    me.isShowAlert = true;\r\n                    isError += 1;\r\n                }\r\n                return isError;\r\n            },\r\n\r\n            /**\r\n             * Check email validate\r\n             * CreatedBy:ntquan(16/05/2021)\r\n             */\r\n            checkEmailValid() {\r\n                var me = this;\r\n                var email = me.$refs[\"Email\"].value;\r\n                if (!me.$fn.validateEmail(email) && email != \"\") {\r\n                    me.$refs[\"Email\"].classList.add(\"isValid\");\r\n                    me.$refs[\"Email\"].setAttribute(\"title\", \"Email không đúng định dạng\");\r\n                    me.messageAlert +=\r\n                        me.messageAlert == \"\" ? \"Email không đúng định dạng\" : \"\";\r\n                    me.$refs[\"Email\"].focus();\r\n                } else if (email != \"\") {\r\n                    me.$refs[\"Email\"].classList.remove(\"isValid\");\r\n                    me.$refs[\"Email\"].setAttribute(\"title\", \"\");\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Validate Blank\r\n             * @param obj danh sách các trường muốn kiểm tra\r\n             * CreateBy:ntquan(11/05/2021)\r\n             */\r\n            checkBlankText(obj) {\r\n                var me = this;\r\n                obj.forEach((element) => {\r\n                    if (me.$refs[element.key].value == \"\") {\r\n                        this.$refs[element.key].classList.add(\"isValid\");\r\n                        this.$refs[element.key].setAttribute(\"title\", element.text);\r\n                        me.messageAlert += me.messageAlert == \"\" ? element.text : \"\";\r\n                    } else {\r\n                        this.$refs[element.key].classList.remove(\"isValid\");\r\n                        this.$refs[element.key].setAttribute(\"title\", \"\");\r\n                    }\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Kiểm tra mã nhân viên đã tồn tại hay chưa\r\n             * @param employeeCode Mã nhân viên\r\n             * CreatedBy: ntquan(11/05/2021)\r\n             */\r\n            async checkEmployeeCodeExist(employeeCode) {\r\n                var me = this;\r\n                var isExist = 0;\r\n                var url = `${this.API_HOST}/api/v1/Employees/CheckEmployeeCodeExist?employeeCode=${employeeCode}`;\r\n                var res = await axios.get(url);\r\n                if (res.data) {\r\n                    me.messageAlert +=\r\n                        me.messageAlert == \"\"\r\n                            ? `Mã nhân viên <${employeeCode}> đã tồn tại trong hệ thống, vui lòng kiểm tra lại`\r\n                            : \"\";\r\n                    me.iconCls = \"icon-error\";\r\n                    me.isShowAlert = true;\r\n                    isExist += 1;\r\n                }\r\n                return isExist;\r\n            },\r\n\r\n            /**\r\n             * Đóng alert\r\n             * CreatedBy: ntquan(11/05/2021)\r\n             */\r\n            onCloseAlert() {\r\n                this.isShowAlert = false;\r\n                this.messageAlert = \"\";\r\n                this.iconCls = \"\";\r\n            },\r\n\r\n            /**\r\n             * Đóng form\r\n             * CreatedBy:ntquan(11/05/2021)\r\n             */\r\n            onClose() {\r\n                this.$store.commit(\"toggleDialog\");\r\n            },\r\n        },\r\n        created() {\r\n            // this.onLoadEmployee();\r\n            document.addEventListener(\"keydown\", this.handleKeyUp);\r\n        },\r\n        mounted() {\r\n            if (this.$refs.EmployeeCode) {\r\n                this.$refs.EmployeeCode.focus();\r\n            }\r\n        },\r\n        destroyed() {\r\n            document.removeEventListener(\"keydown\", this.handleKeyUp);\r\n        },\r\n    };\r\n</script>\r\n\r\n<style>\r\n    .dialog {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        /* right: 0; */\r\n        /* bottom: 0; */\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n        max-height: 100%;\r\n        overflow: auto;\r\n        z-index: 10;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n        .dialog .dialog-content {\r\n            padding: 24px;\r\n            position: absolute;\r\n            min-width: 900px;\r\n            max-width: 900px;\r\n            width: 900px;\r\n            height: 600px;\r\n            background-color: #ffffff;\r\n            padding: 20px 32px;\r\n        }\r\n\r\n    @media screen and (max-height: 860px) {\r\n        /* .dialog .dialog-content {\r\n      top: 0;\r\n    } */\r\n    }\r\n\r\n    .dialog .dialog-header {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        padding-bottom: 20px;\r\n    }\r\n\r\n    .dialog .dialog-title {\r\n        font-size: 24px;\r\n        font-weight: 700;\r\n    }\r\n\r\n    .dialog .dialog-header .btn-header {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        padding: 12px;\r\n    }\r\n\r\n    .dialog .dialog-close-button {\r\n        background-size: 24px;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 0 4px 0 4px;\r\n        background: url(\"../../assets/img/Sprites.64af8f61.svg\") no-repeat -144px -144px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .dialog .dialog-help-button {\r\n        background-size: 24px;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 0 4px 0 4px;\r\n        margin-right: 6px;\r\n        background: url(\"../../assets/img/Sprites.64af8f61.svg\") no-repeat -89px -144px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .dialog .dialog-gender {\r\n        height: 32px;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    .dialog-hide {\r\n        display: none;\r\n    }\r\n\r\n    .dialog .dialog-footer {\r\n        justify-content: space-between;\r\n        width: 100%;\r\n        /* position: absolute;\r\n    display: flex;\r\n    align-items: center;\r\n    bottom: 0;\r\n    background-color: #e5e5e5;\r\n    height: 56px;\r\n    border-radius: 0 0 4px 4px;\r\n    left: 0;\r\n    right: 0; */\r\n    }\r\n\r\n        .dialog .dialog-footer .dialog-footer-button {\r\n            justify-content: space-between;\r\n        }\r\n\r\n    .ms-checkbox {\r\n        padding: 0px 19.5px;\r\n    }\r\n\r\n    span.tooltip-content {\r\n        color: #111111;\r\n        margin-left: 10px;\r\n        font-weight: 100;\r\n    }\r\n</style>\r\n"]}]}